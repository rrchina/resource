!(function(a){a.fn.extend({marquee:function(e){var d=this;var f=false;var i;var j=a.extend({speed:30,interval:3000,height:d.height()},e);if(d.children().eq(0).outerHeight()<=j.height){return}d.append(d.html());d.on("mouseenter",function(){f=true});d.on("mouseleave",function(){f=false});var g=d[0];g.scrollTop=0;var k=function(){i=setInterval(h,j.speed);if(!f){g.scrollTop+=1}};var h=function(){if(g.scrollTop%j.height!=0){g.scrollTop+=1;if(g.scrollTop>=g.scrollHeight/2){g.scrollTop=0}}else{clearInterval(i);setTimeout(k,j.interval)}};setTimeout(k,j.interval);return d},offsetP:function(){var d=this.offset();var e=this.parent().offset();return{left:d.left-e.left,top:d.top-e.top}},slideTo:function(j){var e=this;if(j==null&&j==undefined){j=e.data("value")}j=parseFloat(j);var d=e.find(".handle");var f=d.outerWidth();var i=parseInt(e.attr("min"));var g=parseInt(e.attr("max"));if(isNaN(i)){i=0}if(isNaN(g)){g=i+100}var h=e.width()-f;if(isNaN(j)){j=i}if(j<i){j=i}if(j>g){j=g}var k=h*(j-i)/(g-i);if(k<0){k=0}if(k>h){k=h}d.css({left:k});e.data("value",j);return e},cascade:function(d){this.each(function(h,g){if(a(g).data("csc")&&a(g).data("csc").destroy){a(g).data("csc").destroy();a(g).off("click")}if(typeof(d)=="object"){d.el=g;var f=new c(d);a(g).data("csc",f);a(g).on("click",function(){f.show()})}else{if(d==="destroy"){}}});return this},progress:function(e){if(e>1){e=1}var d=e*100+"%";this.find(".handle").css("width",d);this.data("value",e);return this}});function c(m){var n=this;this.id=getGuid();this.settings=a.extend({title:"请选择",data:[],labels:["省份","城市","区县"],tip:"请先选择上一级",onselect:null,cancel:null,textJoin:" ",zIndex:80000000,maxWidth:767},m);this.target=m.el;var d=a('<div class="bbox-mask cascade"><div class="bbox-container" style="max-width:'+(typeof(this.settings.maxWidth)=="number"?this.settings.maxWidth+"px":this.settings.maxWidth)+'"><div class="bbox"><div class="bbox-header"></div><div class="bbox-body"></div><div class="bbox-footer"><a class="bbox-btn csc-cancel">取消</a><a class="bbox-btn csc-confirm">确定</a></div></div></div></div>');d.css({"z-index":this.settings.zIndex,display:"none"}).prop("id","bbox-"+this.id);this.bbox=d;if(!this.settings.title){d.find(".bbox-header").remove()}else{d.find(".bbox-header").html(this.settings.title)}var e=d.find(".bbox-body");var g=a('<div style="border-bottom:1px solid #8487fa"><ul class="scroll-menu"></ul></div>');var h=g.find(".scroll-menu");var f=a('<div class="itembox"></div>');this.settings.labels.forEach(function(o,p){h.append("<li>"+n.settings.labels[p]+"</li>");f.append('<div style="height:40vh;overflow-y:auto;margin-top:10px;display:none" class="list-box"><div class="list noborder"><div class="t">'+n.settings.tip+"</div></div></div>")});var k=f.find(".list").eq(0);k.empty();for(var l=0;l<this.settings.data.length;l++){var j=this.settings.data[l];k.append('<div class="list-item" data-level="0" data-id="'+j.id+'" data-text="'+j.text+'">'+j.text+"</div>")}e.append(g);e.append(f);h.on("menu.change",function(i){f.find(".list-box").eq(i.detail.newIdx).show().siblings().hide()});d.find(".csc-cancel").on("click",function(){if(n.settings.cancel&&typeof(n.settings.cancel)=="function"){n.settings.cancel.call(n)}n.hide()});d.find(".csc-confirm").on("click",function(){var s=[];var u=[];var t=g.find("li");for(var r=0;r<t.length;r++){var o=t.eq(r);var p=o.data("id");var q=o.data("text");if(p!=undefined&&p!=null){s.push(p);u.push(q)}else{break}}if(s.length>=n.settings.labels.length){var v=u.join(n.settings.textJoin).trim();n.hide();if(a(n.target).is("input")){a(n.target).val(v);a(n.target).trigger("change")}if(n.settings.onselect&&typeof(n.settings.onselect)=="function"){n.settings.onselect.call(n,{values:s,text:v})}}});f.on("click",".list-item",function(){if(!a(this).is(".actived")){a(this).addClass("actived").siblings().removeClass("actived")}var u=a(this).data("level");var v=u+1;var t=a(this).data("id");var w=a(this).data("text");var o=h.find("li").eq(u);o.html(w).data({id:t,text:w});if(u<n.settings.labels.length-1){var q=n.findClickedDataItem(u,t);if(q&&q.children){o.nextAll().each(function(x,i){h.find("li").eq(v+x).html(n.settings.labels[v+x]).data({id:null,text:null});f.find(".list").eq(v+x).html('<div class="t">'+n.settings.tip+"</div>")});var p=f.find(".list").eq(v);p.empty();for(var s=0;s<q.children.length;s++){var r=q.children[s];p.append('<div class="list-item" data-level="'+v+'" data-id="'+r.id+'" data-text="'+r.text+'">'+r.text+"</div>")}h.find("li").eq(v).trigger("click")}}else{h.animate({scrollLeft:2000},200)}});this.findClickedDataItem=function(p,o){var q=n.settings.data;var s=null;for(var u=0;u<=p;u++){var r=h.find("li").eq(u).data("id");if(q&&q.length>0){var t=q.filter(function(i){return i.id==r});if(t.length>0){s=t[0];q=s.children}else{s=null;break}}else{break}}return s};this.show=function(){this.bbox.find(".bbox").addClass("ani-slideup");this.bbox.show()};this.destroy=function(){a(this.target).off("click");this.bbox.remove()};this.hide=function(){this.bbox.find(".bbox").removeClass("ani-slideup");this.bbox.hide()};a("body").append(d);g.find(".scroll-menu li").eq(0).trigger("click");b++}var b=50000000;a.bbox=function(f){function e(g){var h=this;this.settings={title:"",content:"hello",success:null,buttons:{"确定":{action:null}},maxWidth:767};this.idx=b;a.extend(this.settings,f);this.create=function(){var i=a('<div class="bbox-mask"><div class="bbox-container" style="max-width:'+(typeof(this.settings.maxWidth)=="number"?this.settings.maxWidth+"px":this.settings.maxWidth)+'"><div class="bbox"><div class="bbox-header"></div><div class="bbox-body"></div><div class="bbox-footer"></div></div></div></div>');i.css("z-index",b).prop("id","bbox-"+this.idx);if(!this.settings.title){i.find(".bbox-header").remove()}else{i.find(".bbox-header").html(this.settings.title)}i.find(".bbox-body").html(this.settings.content);var j=i.find(".bbox-footer");for(var k in this.settings.buttons){var l=a('<a class="bbox-btn">'+k+"</a>");if(this.settings.buttons[k].style){l[0].style=this.settings.buttons[k].style}l[0].action=this.settings.buttons[k].action;l.on("click",function(){var m=this.action;if(m&&typeof(m)=="function"){var n=m.call(h,h);if(n!==false){h.close()}}else{h.close()}});j.append(l)}b++;a("body").append(i);this.el=i[0];i.find(".bbox").addClass("ani-slideup");if(this.settings.success&&typeof(this.settings.success)=="function"){this.settings.success.call(this,this)}};this.close=function(){if(this.settings.close&&typeof(this.settings.close)=="function"){this.settings.close.call(this,this)}a("#bbox-"+this.idx).remove()}}var d=new e(f);d.create();return d}})(jQuery);var isNavShowing=false,navAnimating=false,currentScroll;$(function(){var e=true;$.event.special.touchstart={setup:function(A,C,B){this.addEventListener("touchstart",B,{passive:false,})}};$.event.special.touchmove={setup:function(A,C,B){this.addEventListener("touchmove",B,{passive:false,})}};$.event.special.mousewheel={setup:function(A,C,B){this.addEventListener("mousewheel",B,{passive:false,})}};currentScroll=$(window).scrollTop();function z(){e=false;$("body").toggleClass("sidebox-open");if($("body").is(".sidebox-open")){enableScroll(false)}else{enableScroll(true);setTimeout(function(){e=true},500)}}$(".nav-toggle").click(function(){z()});$(".body-mask").click(function(){z()});$(".side-box>ul>li>a").click(function(){var B=$(this).parent();var A=$(this).next();var C=A.is("ul");if(B.hasClass("open")){B.removeClass("open");if(C){A.slideUp(200)}}else{if(C){B.addClass("open").siblings().removeClass("open");A.slideDown();B.siblings().find("ul").slideUp(200)}else{z()}}});$(".side-box>ul ul>li>a").click(function(){z()});$(".progress").each(function(B,A){var C=$(A).data("value");if(C){$(A).progress(C)}});$(".slider").each(function(B,A){$(A).slideTo($(A).data("value"))});$("input[type=checkbox],input[type=radio]").each(function(B,A){var C=$(A).parent();if(C.is(".checkbox")){if(A.checked){if(!C.hasClass("checked")){C.addClass("checked")}}else{C.removeClass("checked")}if(A.disabled){if(!C.hasClass("disabled")){C.addClass("disabled")}}}});function n(B){if(!navAnimating||(navAnimating&&isNavShowing!=B)){var A=$(".navbar:not(.static)");navAnimating=true;isNavShowing=B;if(B){A.removeClass("hide")}else{A.addClass("hide")}setTimeout(function(){navAnimating=false},500)}}function j(){$(".scroll-trigger").each(function(C,B){var A=$(B);var F=A.data("threshold");if(F==undefined){F=0}var E=A.offset().top;var D=E-window.innerHeight-(document.documentElement.scrollTop||document.body.scrollTop);if(D<=F){if(!A.hasClass("shown")){A.addClass("shown");A.trigger($.Event("scroll.in"))}}else{if(A.hasClass("shown")){A.removeClass("shown");A.trigger($.Event("scroll.out"))}}})}$(window).on("scroll",function(){var A=$(window).scrollTop();if(e){if(A>=100){$(".navbar:not(.static)").addClass("transparent");if(A>currentScroll){n(false)}else{n(true)}}else{$(".navbar").removeClass("transparent");n(true)}}currentScroll=A;j()});$(document).on("click",".tab-header",function(D){var B=$(this);var C=B.closest(".tab");var F=B.index();var A=C.find(".tab-content").eq(F);var G=C.find(".tab-header.actived").index();var E=$.Event("tab.click",{detail:{newIdx:F,oldIdx:G,data:B.data()}});C.trigger(E);if(F!=G){if(!B.hasClass("actived")){B.addClass("actived")}if(!A.hasClass("actived")){A.addClass("actived")}B.siblings().removeClass("actived");A.siblings().removeClass("actived");E=$.Event("tab.change",{detail:{newIdx:F,oldIdx:G,data:B.data()}});C.trigger(E)}}).on("click",".dropdown:not(.hover)",function(B){var A=$(this);if(!A.hasClass("open")){if(A.hasClass("ani")){A.children(".menu").addClass("ani-bounceinT")}A.addClass("open")}else{A.removeClass("open")}}).on("mouseenter",".dropdown.hover",function(B){var A=$(this);if(!A.hasClass("open")){if(A.hasClass("ani")){A.children(".menu").addClass("ani-bounceinT")}A.addClass("open")}}).on("mouseleave",".dropdown",function(){$(this).removeClass("open").removeClass("ani-bounceinT")}).on("click",function(A){if(!$(A.target).is(".dropdown")&&!$(A.target).is(".dropdown>a")&&!$(A.target).closest("a").is(".dropdown>a")){$(".dropdown").removeClass("open").removeClass("ani-bounceinT")}}).on("keydown",function(A){if(A.keyCode==27||A.key=="Escape"){$(".dropdown").removeClass("open").removeClass("ani-bounceinT")}}).on("click",".number:not(.disabled) .minus",function(){var B=$(this);var A=B.closest(".number").find("input");var D=A.val().trim();if(!D){D=0}var C=parseFloat(D);if(isNaN(C)){C=0}var G=A.attr("step");if(!G){G=1}else{G=parseFloat(G)}var E=(G+"").indexOf(".");var F=E==-1?0:(G+"").substring(E+1).length;C-=G;A.val(parseFloat(C.toFixed(F)));A.trigger("change")}).on("click",".number:not(.disabled) .plus",function(){var B=$(this);var A=B.closest(".number").find("input");var D=A.val().trim();if(!D){D=0}var C=parseFloat(D);if(isNaN(C)){C=0}var G=A.attr("step");if(!G){G=1}else{G=parseFloat(G)}var E=(G+"").indexOf(".");var F=E==-1?0:(G+"").substring(E+1).length;C+=G;A.val(parseFloat(C.toFixed(F)));A.trigger("change")}).on("click",".alert .close",function(){var A=$(this).closest(".alert");A.slideUp(200,function(){A.remove()})}).on("click",".scroll-menu li",function(D){var B=$(this);var A=B.closest(".scroll-menu");var C=B.parent();var F=B.index();var G=C.find("li.actived").index();var E=$.Event("menu.click",{detail:{newIdx:F,oldIdx:G,data:B.data()}});A.trigger(E);if(F!=G){if(!B.hasClass("actived")){B.addClass("actived")}B.siblings().removeClass("actived");E=$.Event("menu.change",{detail:{newIdx:F,oldIdx:G,data:B.data()}});A.trigger(E);var H=B.offsetP().left+A.scrollLeft();A.animate({scrollLeft:H+B.outerWidth()/2-A.width()/2},200)}}).on("click",".switch:not(.disabled)",function(){var A=$(this);A.toggleClass("actived");var B=$.Event("change",{detail:{value:A.hasClass("actived")}});A.trigger(B)}).on("change","input[type=checkbox]",function(){var A=$(this).parent();if(A.is(".checkbox")){if(this.checked){if(!A.hasClass("checked")){A.addClass("checked")}}else{A.removeClass("checked")}}}).on("change","input[type=radio]",function(){var A=$(this).parent();if(A.is(".checkbox")){if(this.checked){if(!A.hasClass("checked")){A.addClass("checked")}}else{A.removeClass("checked")}}var B=$(this).prop("name");$("[name="+B+"]").not($(this)).parent().filter(".checkbox").removeClass("checked")}).on("touchstart",".scroll-menu",t).on("mousedown",".scroll-menu",t).on("touchmove",".scroll-menu",u).on("mousemove",u).on("touchend",".scroll-menu",v).on("mouseup",v);var w=false,x,y;var c,d;function t(A){c=$(this);d=c.find("li");if(A&&A.originalEvent){A=A.originalEvent}if(A&&A.changedTouches){A=A.changedTouches[A.changedTouches.length-1]}var B=c.offset().left;x=A.pageX-B;y=x;w=true}function u(B){if(w){B.preventDefault();if(B&&B.originalEvent){B=B.originalEvent}if(B&&B.changedTouches){B=B.changedTouches[B.changedTouches.length-1]}var A=B.pageX-c.offset().left;c[0].scrollLeft+=x-A;if(Math.abs(A-y)>=10&&!d.hasClass("prevent-event")){c.addClass("prevent-event")}x=A}}function v(A){c=null;d=null;w=false;$(".scroll-menu").removeClass("prevent-event")}$(document).on("click",".accordion dt",function(){var C=$(this);var A=C.closest(".accordion");var D=A.is(".multiple");var B=C.next();if(C.is(".open")){C.removeClass("open");B.slideUp(200)}else{var B=C.next();if(B.is("dd")){C.addClass("open");B.slideDown(200);if(!D){C.siblings().filter("dt").removeClass("open");B.siblings().filter("dd").slideUp(200)}}}}).on("click",".slider:not(.disabled)",function(B){if($(B.target).is(".slider")){var A=$(this);s(B,A)}}).on("touchstart",".slider:not('.disabled') .handle",o).on("mousedown",".slider:not('.disabled') .handle",o).on("touchmove",".slider:not('.disabled') .handle",p).on("mousemove",p).on("touchend",".slider:not('.disabled') .handle",q).on("mouseup",q);var r=false;var b;function o(A){A.stopPropagation();b=$(this).closest(".slider");r=true}function p(A){if(r){A.preventDefault();if(A&&A.originalEvent){A=A.originalEvent}if(A&&A.changedTouches){A=A.changedTouches[A.changedTouches.length-1]}s(A,b)}}function q(A){A.stopPropagation();b=null;r=false}function s(C,B){var A=B.find(".handle");var D=A.outerWidth();var J=C.pageX-B.offset().left-D/2;if(J<0){J=0}var F=B.outerWidth()-D;if(J>F){J=F}var H=parseFloat(B.attr("step"));var G=parseInt(B.attr("min"));var E=parseInt(B.attr("max"));if(isNaN(H)){H=1}if(isNaN(G)){G=0}if(isNaN(E)){E=G+100}var I=G+(E-G)*J/F;I=parseInt(I/H)*H;I=parseInt(I*100)/100;if(I<G){I=G}if(I>E){I=E}B.slideTo(I);B.data("value",I);B.trigger($.Event("change",{detail:{value:I}}))}$(document).on("touchstart",".cascade .list-box",f).on("mousedown",".cascade .list-box",f).on("touchmove",".cascade .list-box",g).on("mousemove",g).on("touchend",".cascade .list-box",h).on("mouseup",h).on("mousewheel",".cascade .list-box",i).on("mousewheel",".cascade",function(A){A.preventDefault()}).on("touchmove",".cascade",function(A){A.preventDefault()});var a;var k=false,l,m;function f(A){a=$(this);if(A&&A.originalEvent){A=A.originalEvent}if(A&&A.changedTouches){A=A.changedTouches[A.changedTouches.length-1]}var B=a.offset().top;l=A.pageY-B;m=l;k=true}function g(B){if(k){B.preventDefault();if(B&&B.originalEvent){B=B.originalEvent}if(B&&B.changedTouches){B=B.changedTouches[B.changedTouches.length-1]}var A=B.pageY-a.offset().top;a[0].scrollTop+=(l-A)*1.5;if(Math.abs(A-m)>=10&&!a.hasClass("prevent-event")){a.addClass("prevent-event")}l=A}}function h(A){a=null;k=false;$(".cascade .list-box").removeClass("prevent-event")}function i(A){A.preventDefault();if(A&&A.originalEvent){A=A.originalEvent}if(A.deltaY>0){$(this)[0].scrollTop+=42}else{$(this)[0].scrollTop-=42}}$(window).on("resize",function(){$(".slider").each(function(B,A){$(A).slideTo($(A).data("value"))});if($("body").is(".sidebox-open")&&$(window).width()>767){z()}})});