!(function(a){a.fn.extend({marquee:function(d){var c=this;var e=false;var h;var i=a.extend({speed:30,interval:3000,height:c.height()},d);if(c.children().eq(0).outerHeight()<=i.height){return}c.append(c.html());c.on("mouseenter",function(){e=true});c.on("mouseleave",function(){e=false});var f=c[0];f.scrollTop=0;var j=function(){h=setInterval(g,i.speed);if(!e){f.scrollTop+=1}};var g=function(){if(f.scrollTop%i.height!=0){f.scrollTop+=1;if(f.scrollTop>=f.scrollHeight/2){f.scrollTop=0}}else{clearInterval(h);setTimeout(j,i.interval)}};setTimeout(j,i.interval);return c},offsetP:function(){var c=this.offset();var d=this.parent().offset();return{left:c.left-d.left,top:c.top-d.top}}});var b=50;a.bbox=function(e){function d(f){var g=this;this.settings={title:"",content:"hello",buttons:{"确定":{action:null}}};this.idx=b;a.extend(this.settings,e);this.create=function(){var h=a('<div class="bbox-mask"><div class="bbox-container"><div class="bbox"><div class="bbox-header"></div><div class="bbox-body"></div><div class="bbox-footer"></div></div></div></div>');h.css("z-index",b).prop("id","bbox-"+this.idx);if(!this.settings.title){h.find(".bbox-header").remove()}else{h.find(".bbox-header").html(this.settings.title)}h.find(".bbox-body").html(this.settings.content);var i=h.find(".bbox-footer");for(var j in this.settings.buttons){var k=a('<a class="bbox-btn">'+j+"</a>");if(this.settings.buttons[j].style){k[0].style=this.settings.buttons[j].style}k[0].action=this.settings.buttons[j].action;k.on("click",function(){var l=this.action;if(l&&typeof(l)=="function"){var m=l.call(g);if(m!==false){g.close()}}else{g.close()}});i.append(k)}b++;a("body").append(h);this.el=h[0];h.find(".bbox").addClass("ani-slideup");if(this.settings.success&&typeof(this.settings.success)=="function"){this.settings.success.call(this)}};this.close=function(){if(this.settings.close&&typeof(this.settings.close)=="function"){this.settings.close.call(this)}a("#bbox-"+this.idx).remove()}}var c=new d(e);c.create();return c}})(jQuery);var isNavShowing=false,navAnimating=false,currentScroll;$(function(){$.event.special.touchstart={setup:function(k,m,l){this.addEventListener("touchstart",l,{passive:false,})}};$.event.special.touchmove={setup:function(k,m,l){this.addEventListener("touchmove",l,{passive:false,})}};currentScroll=$(window).scrollTop();$(".nav-toggle").click(function(){$("body").toggleClass("sidebox-open");if($("body").is(".sidebox-open")){enableScroll(false)}else{enableScroll(true)}});$(".container-mask").click(function(){$("body").removeClass("sidebox-open");enableScroll(true)});$(".side-box li").click(function(){var k=$(this);if(k.hasClass("open")){k.removeClass("open")}else{k.addClass("open").siblings().removeClass("open")}});function d(l){if(!navAnimating||(navAnimating&&isNavShowing!=l)){var k=$(".navbar:not(.static)");navAnimating=true;isNavShowing=l;if(l){k.removeClass("hide")}else{k.addClass("hide")}setTimeout(function(){navAnimating=false},500)}}function c(){$(".scroll-trigger").each(function(m,l){var k=$(l);var p=k.data("threshold");if(p==undefined){p=0}var o=k.offset().top;var n=o-window.innerHeight-(document.documentElement.scrollTop||document.body.scrollTop);if(n<=p){if(!k.hasClass("shown")){k.addClass("shown");k.trigger($.Event("scroll.in"))}}else{if(k.hasClass("shown")){k.removeClass("shown");k.trigger($.Event("scroll.out"))}}})}$(window).on("scroll",function(){var k=$(window).scrollTop();if(k>=100){$(".navbar:not(.static)").addClass("transparent");if(k>currentScroll){d(false)}else{d(true)}}else{$(".navbar").removeClass("transparent");d(true)}currentScroll=k;c()});$(document).on("click",".tab-header",function(n){var l=$(this);var m=l.closest(".tab");var p=l.index();var k=m.find(".tab-content").eq(p);var q=m.find(".tab-header.actived").index();var o=$.Event("tab.click",{detail:{newIdx:p,oldIdx:q,data:l.data()}});m.trigger(o);if(p!=q){if(!l.hasClass("actived")){l.addClass("actived")}if(!k.hasClass("actived")){k.addClass("actived")}l.siblings().removeClass("actived");k.siblings().removeClass("actived");o=$.Event("tab.change",{detail:{newIdx:p,oldIdx:q,data:l.data()}});m.trigger(o)}}).on("click",".dropdown:not(.hover)",function(l){var k=$(this);if(!k.hasClass("open")){if(k.hasClass("ani")){k.children(".menu").addClass("ani-bounceinT")}k.addClass("open")}else{k.removeClass("open")}}).on("mouseenter",".dropdown.hover",function(l){var k=$(this);if(!k.hasClass("open")){if(k.hasClass("ani")){k.children(".menu").addClass("ani-bounceinT")}k.addClass("open")}}).on("mouseleave",".dropdown",function(){$(this).removeClass("open").removeClass("ani-bounceinT")}).on("click",function(k){if(!$(k.target).is(".dropdown")&&!$(k.target).is(".dropdown>a")&&!$(k.target).is(".dropdown>a i")){$(".dropdown").removeClass("open").removeClass("ani-bounceinT")}}).on("keydown",function(k){if(k.keyCode==27||k.key=="Escape"){$(".dropdown").removeClass("open").removeClass("ani-bounceinT")}}).on("click",".number:not(.disabled) .minus",function(){var l=$(this);var k=l.closest(".number").find("input");var n=k.val().trim();if(!n){n=0}var m=parseFloat(n);if(isNaN(m)){m=0}var q=k.attr("step");if(!q){q=1}else{q=parseFloat(q)}var o=(q+"").indexOf(".");var p=o==-1?0:(q+"").substring(o+1).length;m-=q;k.val(parseFloat(m.toFixed(p)));k.trigger("change")}).on("click",".number:not(.disabled) .plus",function(){var l=$(this);var k=l.closest(".number").find("input");var n=k.val().trim();if(!n){n=0}var m=parseFloat(n);if(isNaN(m)){m=0}var q=k.attr("step");if(!q){q=1}else{q=parseFloat(q)}var o=(q+"").indexOf(".");var p=o==-1?0:(q+"").substring(o+1).length;m+=q;k.val(parseFloat(m.toFixed(p)));k.trigger("change")}).on("click",".alert .close",function(){var k=$(this).closest(".alert");k.slideUp(200,function(){k.remove()})}).on("click",".scroll-menu li",function(){var l=$(this);var k=l.closest(".scroll-menu");var m=l.parent();var o=l.index();var q=m.find("li.actived").index();var n=$.Event("menu.click",{detail:{newIdx:o,oldIdx:q,data:l.data()}});k.trigger(n);if(o!=q){if(!l.hasClass("actived")){l.addClass("actived")}l.siblings().removeClass("actived");n=$.Event("menu.change",{detail:{newIdx:o,oldIdx:q,data:l.data()}});k.trigger(n);var p=l.offsetP().left;k.animate({scrollLeft:p+l.outerWidth()/2-k.width()/2},200)}}).on("click",".switch:not(.disabled)",function(){var k=$(this);k.toggleClass("actived");var l=$.Event("change",{detail:{on:k.hasClass("actived")}});k.trigger(l)}).on("touchstart",".scroll-menu",e).on("mousedown",".scroll-menu",e).on("touchmove",".scroll-menu",f).on("mousemove",f).on("touchend",".scroll-menu",g).on("mouseup",g);var h=false,i,j;var a,b;function e(k){a=$(this);b=a.find("li");if(k&&k.originalEvent){k=k.originalEvent}if(k&&k.changedTouches){k=k.changedTouches[k.changedTouches.length-1]}var l=a.offset().left,m=a.offset().top;i=k.pageX-l;j=i;h=true}function f(l){if(h){l.preventDefault();if(l&&l.originalEvent){l=l.originalEvent}if(l&&l.changedTouches){l=l.changedTouches[l.changedTouches.length-1]}var k=l.pageX-a.offset().left;a[0].scrollLeft+=i-k;if(Math.abs(k-j)>=10&&!b.hasClass("prevent-event")){b.addClass("prevent-event")}i=k}}function g(k){a=null;b=null;h=false;$(".scroll-menu").find("li").removeClass("prevent-event")}});